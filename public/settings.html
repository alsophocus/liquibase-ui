<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liquibase UI - Settings</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="/shared/navigation.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #f8fafc; }
        
        .dashboard { display: flex; min-height: 100vh; }
        .sidebar { width: 280px; background: white; border-right: 1px solid #e2e8f0; padding: 24px; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); }
        .sidebar-logo { display: flex; align-items: center; gap: 12px; margin-bottom: 32px; padding-bottom: 24px; border-bottom: 1px solid #e2e8f0; }
        .logo-mini { width: 40px; height: 40px; background: linear-gradient(135deg, #6366f1, #818cf8); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px; }
        .logo-text h3 { font-size: 18px; font-weight: 700; color: #0f172a; }
        .logo-text span { font-size: 12px; color: #64748b; }
        .nav-menu { display: flex; flex-direction: column; gap: 8px; }
        .nav-item { display: flex; align-items: center; gap: 12px; padding: 16px; border-radius: 12px; cursor: pointer; transition: all 0.3s ease; color: #64748b; font-weight: 500; }
        .nav-item:hover { background: #f1f5f9; color: #0f172a; }
        .nav-item.active { background: linear-gradient(135deg, #6366f1, #818cf8); color: white; box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3); }
        .nav-item i { font-size: 18px; width: 20px; text-align: center; }
        .main-content { flex: 1; display: flex; flex-direction: column; }
        .app-header { background: white; border-bottom: 1px solid #e2e8f0; padding: 16px 24px; display: flex; align-items: center; justify-content: space-between; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); }
        .header-left h1 { font-size: 24px; font-weight: 700; color: #0f172a; margin-bottom: 2px; }
        .header-left span { font-size: 14px; color: #64748b; }
        .content-area { flex: 1; padding: 24px; overflow-y: auto; }
        
        .settings-layout { display: grid; grid-template-columns: 250px 1fr; gap: 32px; }
        .settings-nav { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); height: fit-content; }
        .settings-nav h3 { font-size: 16px; font-weight: 700; color: #0f172a; margin-bottom: 16px; }
        .settings-nav-item { display: flex; align-items: center; gap: 12px; padding: 12px 16px; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; color: #64748b; font-weight: 500; margin-bottom: 4px; }
        .settings-nav-item:hover { background: #f8fafc; color: #0f172a; }
        .settings-nav-item.active { background: #eff6ff; color: #2563eb; }
        .settings-nav-item i { font-size: 16px; width: 16px; }
        
        .settings-content { background: white; border-radius: 12px; padding: 32px; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); }
        .settings-section { display: none; }
        .settings-section.active { display: block; }
        .section-header { margin-bottom: 32px; }
        .section-header h2 { font-size: 24px; font-weight: 700; color: #0f172a; margin-bottom: 8px; }
        .section-header p { color: #64748b; font-size: 16px; }
        
        .setting-group { margin-bottom: 32px; padding-bottom: 32px; border-bottom: 1px solid #f1f5f9; }
        .setting-group:last-child { border-bottom: none; margin-bottom: 0; }
        .setting-group h3 { font-size: 18px; font-weight: 600; color: #0f172a; margin-bottom: 16px; }
        .setting-item { display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; }
        .setting-info { flex: 1; }
        .setting-info h4 { font-size: 16px; font-weight: 600; color: #0f172a; margin-bottom: 4px; }
        .setting-info p { font-size: 14px; color: #64748b; }
        .setting-control { margin-left: 20px; }
        
        .toggle-switch { position: relative; display: inline-block; width: 48px; height: 24px; }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .toggle-slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #e2e8f0; transition: .4s; border-radius: 24px; }
        .toggle-slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .toggle-slider { background-color: #6366f1; }
        input:checked + .toggle-slider:before { transform: translateX(24px); }
        
        .form-input, .form-select { padding: 10px 12px; border: 1px solid #e2e8f0; border-radius: 6px; font-size: 14px; min-width: 200px; }
        .form-input:focus, .form-select:focus { outline: none; border-color: #6366f1; box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1); }
        
        .btn { padding: 10px 16px; border-radius: 6px; font-weight: 600; cursor: pointer; transition: all 0.2s ease; border: none; font-size: 14px; }
        .btn-primary { background: #6366f1; color: white; }
        .btn-primary:hover { background: #5855eb; }
        .btn-secondary { background: white; color: #64748b; border: 1px solid #e2e8f0; }
        .btn-danger { background: #ef4444; color: white; }
        
        .backup-item { display: flex; align-items: center; justify-content: space-between; padding: 16px; border: 1px solid #e2e8f0; border-radius: 8px; margin-bottom: 12px; }
        .backup-info h4 { font-size: 14px; font-weight: 600; color: #0f172a; margin-bottom: 4px; }
        .backup-info p { font-size: 12px; color: #64748b; }
        .backup-actions { display: flex; gap: 8px; }
        .action-btn { padding: 6px 12px; border: 1px solid #e2e8f0; background: white; border-radius: 4px; cursor: pointer; font-size: 12px; transition: all 0.2s ease; }
        .action-btn:hover { background: #f8fafc; }
        .action-btn.primary { background: #6366f1; color: white; border-color: #6366f1; }
        
        .alert { padding: 16px; border-radius: 8px; margin-bottom: 20px; }
        .alert.success { background: #f0fdf4; border: 1px solid #bbf7d0; color: #166534; }
        .alert.warning { background: #fffbeb; border: 1px solid #fed7aa; color: #d97706; }
        .alert.danger { background: #fef2f2; border: 1px solid #fecaca; color: #dc2626; }
    </style>
</head>
<body>
    <div class="dashboard">
        <nav class="sidebar">
            <div class="sidebar-logo">
                <div class="logo-mini"><i class="fas fa-database"></i></div>
                <div class="logo-text"><h3>Liquibase</h3><span>Database Platform</span></div>
            </div>
            <div class="nav-menu">
                <div class="nav-item" data-page="dashboard"><i class="fas fa-chart-line"></i><span>Dashboard</span></div>
                <div class="nav-item" data-page="databases"><i class="fas fa-server"></i><span>Databases</span></div>
                <div class="nav-item" data-page="migrations"><i class="fas fa-code-branch"></i><span>Migrations</span></div>
                <div class="nav-item" data-page="analytics"><i class="fas fa-chart-pie"></i><span>Analytics</span></div>
                <div class="nav-item active" data-page="settings"><i class="fas fa-cog"></i><span>Settings</span></div>
            </div>
        </nav>

        <main class="main-content">
            <header class="app-header">
                <div class="header-left">
                    <h1>Settings</h1>
                    <span>Configure your Liquibase UI preferences and system settings</span>
                </div>
            </header>

            <div class="content-area">
                <div class="settings-layout">
                    <div class="settings-nav">
                        <h3>Settings</h3>
                        <div class="settings-nav-item active" data-section="general"><i class="fas fa-cog"></i><span>General</span></div>
                        <div class="settings-nav-item" data-section="notifications"><i class="fas fa-bell"></i><span>Notifications</span></div>
                        <div class="settings-nav-item" data-section="security"><i class="fas fa-shield-alt"></i><span>Security</span></div>
                        <div class="settings-nav-item" data-section="integrations"><i class="fas fa-plug"></i><span>Integrations</span></div>
                        <div class="settings-nav-item" data-section="backup"><i class="fas fa-download"></i><span>Backup & Restore</span></div>
                        <div class="settings-nav-item" data-section="advanced"><i class="fas fa-wrench"></i><span>Advanced</span></div>
                    </div>

                    <div class="settings-content">
                        <!-- General Settings -->
                        <div class="settings-section active" id="general">
                            <div class="section-header">
                                <h2>General Settings</h2>
                                <p>Configure your basic preferences and display options.</p>
                            </div>
                            
                            <div class="setting-group">
                                <h3>Appearance</h3>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <h4>Dark Mode</h4>
                                        <p>Switch between light and dark theme</p>
                                    </div>
                                    <div class="setting-control">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="darkMode">
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <h4>Language</h4>
                                        <p>Select your preferred language</p>
                                    </div>
                                    <div class="setting-control">
                                        <select class="form-select">
                                            <option value="en">English</option>
                                            <option value="es">Spanish</option>
                                            <option value="fr">French</option>
                                            <option value="de">German</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="setting-group">
                                <h3>Dashboard</h3>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <h4>Auto-refresh</h4>
                                        <p>Automatically refresh dashboard data</p>
                                    </div>
                                    <div class="setting-control">
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="autoRefresh" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <h4>Refresh Interval</h4>
                                        <p>How often to refresh data (seconds)</p>
                                    </div>
                                    <div class="setting-control">
                                        <input type="number" class="form-input" value="30" min="10" max="300">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Notifications Settings -->
                        <div class="settings-section" id="notifications">
                            <div class="section-header">
                                <h2>Notification Settings</h2>
                                <p>Configure how and when you receive notifications.</p>
                            </div>
                            
                            <div class="setting-group">
                                <h3>Migration Notifications</h3>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <h4>Migration Success</h4>
                                        <p>Notify when migrations complete successfully</p>
                                    </div>
                                    <div class="setting-control">
                                        <label class="toggle-switch">
                                            <input type="checkbox" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <h4>Migration Failures</h4>
                                        <p>Notify when migrations fail</p>
                                    </div>
                                    <div class="setting-control">
                                        <label class="toggle-switch">
                                            <input type="checkbox" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <h4>Email Notifications</h4>
                                        <p>Send notifications via email</p>
                                    </div>
                                    <div class="setting-control">
                                        <label class="toggle-switch">
                                            <input type="checkbox">
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Security Settings -->
                        <div class="settings-section" id="security">
                            <div class="section-header">
                                <h2>Security Settings</h2>
                                <p>Manage your account security and access controls.</p>
                            </div>
                            
                            <div class="alert warning">
                                <i class="fas fa-exclamation-triangle"></i> Security settings require administrator privileges.
                            </div>
                            
                            <div class="setting-group">
                                <h3>Authentication</h3>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <h4>Session Timeout</h4>
                                        <p>Automatically log out after inactivity (minutes)</p>
                                    </div>
                                    <div class="setting-control">
                                        <input type="number" class="form-input" value="60" min="5" max="480">
                                    </div>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <h4>Two-Factor Authentication</h4>
                                        <p>Enable 2FA for enhanced security</p>
                                    </div>
                                    <div class="setting-control">
                                        <button class="btn btn-primary" onclick="setup2FA()">Setup 2FA</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Integrations Settings -->
                        <div class="settings-section" id="integrations">
                            <div class="section-header">
                                <h2>Integrations</h2>
                                <p>Connect with external tools and services.</p>
                            </div>
                            
                            <div class="setting-group">
                                <h3>Version Control</h3>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <h4>Git Integration</h4>
                                        <p>Connect to Git repository for changelog management</p>
                                    </div>
                                    <div class="setting-control">
                                        <button class="btn btn-secondary" onclick="configureGit()">Configure Git</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="setting-group">
                                <h3>CI/CD</h3>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <h4>Jenkins Integration</h4>
                                        <p>Connect to Jenkins for automated deployments</p>
                                    </div>
                                    <div class="setting-control">
                                        <button class="btn btn-secondary" onclick="configureJenkins()">Configure Jenkins</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Backup Settings -->
                        <div class="settings-section" id="backup">
                            <div class="section-header">
                                <h2>Backup & Restore</h2>
                                <p>Manage your configuration backups and restore points.</p>
                            </div>
                            
                            <div class="setting-group">
                                <h3>Automatic Backups</h3>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <h4>Enable Auto Backup</h4>
                                        <p>Automatically backup configuration daily</p>
                                    </div>
                                    <div class="setting-control">
                                        <label class="toggle-switch">
                                            <input type="checkbox" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <h4>Create Backup Now</h4>
                                        <p>Create an immediate backup of current configuration</p>
                                    </div>
                                    <div class="setting-control">
                                        <button class="btn btn-primary" onclick="createBackup()">Create Backup</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="setting-group">
                                <h3>Available Backups</h3>
                                <div class="backup-item">
                                    <div class="backup-info">
                                        <h4>Configuration Backup - 2025-10-21</h4>
                                        <p>Created automatically • 2.3 MB</p>
                                    </div>
                                    <div class="backup-actions">
                                        <button class="action-btn" onclick="downloadBackup('backup1')">Download</button>
                                        <button class="action-btn primary" onclick="restoreBackup('backup1')">Restore</button>
                                    </div>
                                </div>
                                <div class="backup-item">
                                    <div class="backup-info">
                                        <h4>Configuration Backup - 2025-10-20</h4>
                                        <p>Created manually • 2.1 MB</p>
                                    </div>
                                    <div class="backup-actions">
                                        <button class="action-btn" onclick="downloadBackup('backup2')">Download</button>
                                        <button class="action-btn primary" onclick="restoreBackup('backup2')">Restore</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Advanced Settings -->
                        <div class="settings-section" id="advanced">
                            <div class="section-header">
                                <h2>Advanced Settings</h2>
                                <p>Advanced configuration options for power users.</p>
                            </div>
                            
                            <div class="alert danger">
                                <i class="fas fa-exclamation-triangle"></i> Changing these settings may affect system stability.
                            </div>
                            
                            <div class="setting-group">
                                <h3>Performance</h3>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <h4>Connection Pool Size</h4>
                                        <p>Maximum database connections</p>
                                    </div>
                                    <div class="setting-control">
                                        <input type="number" class="form-input" value="10" min="1" max="50">
                                    </div>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <h4>Query Timeout</h4>
                                        <p>Database query timeout (seconds)</p>
                                    </div>
                                    <div class="setting-control">
                                        <input type="number" class="form-input" value="30" min="5" max="300">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="setting-group">
                                <h3>Danger Zone</h3>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <h4>Reset All Settings</h4>
                                        <p>Reset all settings to default values</p>
                                    </div>
                                    <div class="setting-control">
                                        <button class="btn btn-danger" onclick="resetSettings()">Reset Settings</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Settings navigation
        document.querySelectorAll('.settings-nav-item').forEach(item => {
            item.addEventListener('click', () => {
                // Update nav active state
                document.querySelectorAll('.settings-nav-item').forEach(nav => nav.classList.remove('active'));
                item.classList.add('active');
                
                // Show corresponding section
                const section = item.dataset.section;
                document.querySelectorAll('.settings-section').forEach(sec => sec.classList.remove('active'));
                document.getElementById(section).classList.add('active');
            });
        });

        // Settings functions
        function setup2FA() { alert('Opening 2FA setup wizard...'); }
        function configureGit() { alert('Opening Git configuration...'); }
        function configureJenkins() { alert('Opening Jenkins configuration...'); }
        function createBackup() { alert('Creating backup...'); }
        function downloadBackup(id) { alert(`Downloading backup ${id}...`); }
        function restoreBackup(id) { if(confirm('Are you sure you want to restore this backup?')) alert(`Restoring backup ${id}...`); }
        function resetSettings() { if(confirm('Are you sure you want to reset all settings? This cannot be undone.')) alert('Resetting all settings...'); }

        // Auto-save settings
        document.querySelectorAll('input, select').forEach(input => {
            input.addEventListener('change', () => {
                console.log('Setting changed:', input.id || input.name, input.value || input.checked);
                // In real app, this would save to backend
            });
        });

        console.log('⚙️ Settings page ready!');
    </script>
</body>
</html>
